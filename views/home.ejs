<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="Martin Alemajoh" />
    <title>Home | <%-user["firstName"]%> <%-user["lastName"]%> </title>

    <link rel="shortcut icon" href="../image/favicon-32x32.png" type="image/x-icon" />
    <link rel="shortcut icon" href="../image/favicon-16x16.png" type="image/x-icon" />

    <!--Stylesheet-->
    <link rel="stylesheet" href="../css/style.css" />
    <!--Font Awesome-->
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />
  </head>

  <body>
    <main class="home">
      <div class="navigation">
        <div class="navigation_logo">
          <img src="../image/logo.svg" alt="logo" />
        </div>
        <div class="navigation_tabs">
          <div class="tab_btn" data-tooltip="Chats" data-position="0">
            <span data-position="0" class="material-icons active">textsms</span>
          </div>
          <div class="tab_btn" data-tooltip="Groups" data-position="1">
            <span data-position="1" class="material-icons">groups</span>
          </div>
          <div class="tab_btn" data-tooltip="Friends" data-position="2">
            <span data-position="2" class="material-icons">people</span>
          </div>
          <div class="tab_btn" data-tooltip="Profile" data-position="3">
            <span data-position="3" class="material-icons">person</span>
          </div>
          <div class="tab_btn" data-tooltip="Settings" data-position="4">
            <span data-position="4" class="material-icons">settings</span>
          </div>
        </div>
        <div class="navigation_extra">
          <div data-tooltip="Dark/Light"><span class="material-icons">dark_mode</span></div>
          <div class="avatar"><%- user["firstName"].charAt(0).toUpperCase() %></div>
        </div>
      </div>
      <div class="tab_content">
        <div id="chats" class="tab_nav tab_section">
          <div class="search_form">
            <h1>Chats</h1>
            <form action="/search?q=chats" method="get">
              <div class="search_input">
                <input type="search" name="chats" id="chats" placeholder="Search for messages" />
                <span class="material-icons active">search</span>
              </div>
            </form>
          </div>
          <div class="online_friends">
            <div class="default">
              <span class="material-icons">person_off</span>
              <i>Online friends will appear here</i>
            </div>
            <!-- <div class="online_user">
              <div class="user_image"><img class="round_image" src="../image/test.jpg" /></div>
              <h3>Martin Alemajoh Martin Alemajoh Martin Alemajoh</h3>
            </div>
            <div class="online_user">
              <div class="user_image">A</div>
              <h3 title="user full name">Martin Alemajoh</h3>
            </div>
            <div class="online_user">
              <div class="user_image">A</div>
              <h3>Martin Alemajoh</h3>
            </div>
            <div class="online_user">
              <div class="user_image">A</div>
              <h3>Martin Alemajoh</h3>
            </div>
            <div class="online_user">
              <div class="user_image">A</div>
              <h3>Martin Alemajoh</h3>
            </div>
            <div class="online_user">
              <div class="user_image">A</div>
              <h3>Martin Alemajoh</h3>
            </div> -->
          </div>
          <h1>Recent</h1>
          <div class="recent_chats">
            <div class="conversions">
            </div>
          </div>
        </div>
        <div id="groups" class="tab_nav tab_section tab_group hide">
          <div class="heading">
            <h1>Groups</h1>
            <span id="open_add_group_modal" class="material-icons">group_add</span>
          </div>
          <div class="search_form">
            <form action="/search?q=group" method="get">
              <div class="search_input">
                <input type="search" name="group" id="group" placeholder="Search for groups" />
                <span class="material-icons active">search</span>
              </div>
            </form>
          </div>
          <div class="group_chats">
          </div>
        </div>
        <div id="friends" class="tab_nav tab_friends hide">
          <div class="heading">
            <h1>Friends</h1>
            <span id="open_add_friend_modal" class="material-icons">person_add</span>
          </div>
          <div class="friend_list" id="friend_list"> </div>
        </div>
        <div id="profile" class="tab_nav tab_profile hide">
          <div class="heading">
            <h1>My Profile</h1>
            <span id="profile_action" class="material-icons">more_vert</span>
            <div class="context_menu hide">
              <div class="body">
                <div id="delete" class="item_container">
                  <p class="item">Delete Account</p>
                  <span class="material-icons">delete</span>
                </div>
                <div id="my_logout" class="item_container">
                  <p class="item">Logout</p>
                  <span class="material-icons">logout</span>
                </div>
              </div>
            </div>
          </div>
          <div class="my_image">
            <img src="<%- user['image'] %>" alt="logo" id="second_image" />
            <h1 class="user_full_name"><%- user["firstName"]%> <%- user["lastName"]%></h1>
            <span class="material-icons">fiber_manual_record</span>
          </div>
          <div class="about">
            <h3>About me</h3>
            <hr />
            <div class="name">
              <p>First Name</p>
              <h3 class="user_first_name"><%- user["firstName"] %></h3>
            </div>
            <div class="name">
              <p>Last Name</p>
              <h3><%- user["lastName"] %></h3>
            </div>
            <div class="email">
              <p>Email Address</p>
              <h3 class="user_email"><%- user["email"] %></h3>
            </div>
            <div class="memeber">
              <p>Phone Number</p>
              <h3><%- user["phone"] %></h3>
            </div>
          </div>
        </div>
        <div id="settings" class="tab_nav tab_settings hide">
          <div class="heading">
            <h1>Settings</h1>
          </div>
          <div class="my_image">
            <img id="img_profile" src="<%- user['image'] %>" alt="logo" />
            <h1 class="user_full_name"><%- user["firstName"] %> <%- user["lastName"] %></h1>
            <form id="upload_profile_form">
              <input type="file" name="file" id="profile_picture" class="hide" accept=".jpg, .jpeg, .png" />
            </form>
            <span id="add_a_photo" class="material-icons">add_a_photo</span>
          </div>
          <div class="about">
            <h3>Personal Information</h3>
            <hr />
            <div class="name">
              <p>First Name</p>
              <form id="update_first_name_form">
                <input type="text" name="first_name" id="update_first_name" value="<%- user['firstName'] %>" />
                <input type="hidden" id="user_id" value="<%- user['_id'] %>" />
              </form>
            </div>
            <div class="name">
              <p>Last Name</p>
              <form>
                <input type="text" id="last_name" value="<%- user['lastName'] %>" disabled />
              </form>
            </div>
            <div class="email">
              <p>Email Address</p>
              <form id="update_email_form">
                <input type="text" name="email" id="update_email" value="<%- user['email'] %>" />
              </form>
            </div>
            <div class="phone">
              <p>Phone Number</p>
              <form>
                <input type="text" value="<%- user['phone'] %>" disabled />
              </form>
            </div>
          </div>
          <div class="privacy">
            <div class="profile_picture">
              <p>Profile picture</p>
              <select name="show_profile_pic" id="show_profile_pic">
                <option value="yes">Public</option>
                <option value="no">Private</option>
              </select>
            </div>
            <div class="last_seen">
              <p>Last seen</p>
              <select name="show_last_seen" id="show_last_seen">
                <option value="yes">Public</option>
                <option value="no">Private</option>
              </select>
            </div>
            <div class="status">
              <p>Status</p>
              <select name="show_status" id="show_status">
                <option value="yes">Public</option>
                <option value="no">Private</option>
              </select>
            </div>
          </div>
          <div class="security">
            <div class="two_factor_auth">
              <p>Enable Two Factor Authentication</p>
              <select name="two_factor_auth" id="two_factor_auth">
                <option value="no">Disabled</option>
                <option value="yes">Enabled</option>
              </select>
            </div>
            <div class="monitor">
              <p>Enable Account Monitoring</p>
              <select name="monitor_account" id="monitor_account">
                <option value="no">Disabled</option>
                <option value="yes">Enabled</option>
              </select>
            </div>
          </div>
          <div class="more">
            <div class="developer">
              <p>Developer API</p>
              <a href="">API Access</a>
            </div>
            <div class="mode">
              <p>Light and Dark Mode</p>
              <select name="mode" id="mode">
                <option value="light">Light</option>
                <option value="dark">Dark</option>
              </select>
            </div>
          </div>
        </div>
      </div>
      <div class="chat_room">
        <div class="header" id="chat_room_header">
          <div class="participant">
            <span id="close_chat_room" class="material-icons"> chevron_left </span>
            <img id="current_user_image" src="../image/test.jpg" alt="logo" />
            <div class="name_status">
              <p id="current_chat_user_name"></p>
              <span class="material-icons"></span>
            </div>
          </div>
          <div class="actions">
            <span class="material-icons">call</span>
            <span class="material-icons">video_call</span>
            <span class="material-icons">person</span>
            <span id="chat_menu_action" class="material-icons">more_horiz</span>
            <div class="context_menu chat_context_menu hide">
              <div class="body">
                <div class="item_container">
                  <p class="item">Archive</p>
                  <span class="material-icons">archive</span>
                </div>
                <div class="item_container">
                  <p class="item">Mute</p>
                  <span class="material-icons">volume_off</span>
                </div>
                <div class="item_container">
                  <p class="item">Delete</p>
                  <span class="material-icons">delete</span>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="chat_area"> </div>
        <div class="footer">
          <div class="uploads"></div>
          <div class="messaging">
            <form id="chat_form">
              <input type="hidden" id="receiver_id" />
              <input type="text" name="message" id="chat_message" placeholder="Select a friend to chat" disabled />
              <!-- <textarea name="message" id="chat_message" placeholder="Message Martin Alemajoh"></textarea> -->
            </form>
            <div class="actions">
              <span class="material-icons">emoji_emotions</span>
              <span class="material-icons">mic</span>
              <span class="material-icons">attach_file</span>
              <span class="material-icons">add_a_photo</span>
            </div>
          </div>
        </div>
      </div>
      <div class="audio_room">Audio Room</div>
      <div class="video_room">Video Room</div>
      <div class="profile">Profile</div>
    </main>

    <div class="overlay hide"></div>

    <!-- Group Modal-->
    <div class="modal group_modal hide">
      <div class="header">
        <h1>Create New Group</h1>
        <span id="close_add_group_modal" class="material-icons">close</span>
      </div>
      <div class="body">
        <span class="error hide">invalid phone or password</span>
        <form action="/add_group" method="post" class="add_group_form">
          <div class="input">
            <label for="name">Group Name</label>
            <input type="text" name="name" id="name" placeholder="General Assembly" />
          </div>
          <div class="members">
            <label>Group Members</label>
            <div class="member">
              <input type="checkbox" name="member" />
              <h3>Martin Alemajoh</h3>
            </div>
            <div class="member">
              <input type="checkbox" name="member" />
              <h3>Martin Alemajoh</h3>
            </div>
            <div class="member">
              <input type="checkbox" name="member" />
              <h3>Martin Alemajoh</h3>
            </div>
          </div>
          <div class="textarea">
            <label for="description">Description</label>
            <textarea name="description" id="description"></textarea>
          </div>
        </form>
      </div>
      <div class="footer">
        <button class="btn btn-primary">Create Group</button>
      </div>
    </div>

    <!--Add Friend-->
    <!-- Group Modal-->
    <div class="modal friend_modal hide">
      <div class="header">
        <h1>Invite A Friend</h1>
        <span id="close_add_friend_modal" class="material-icons">close</span>
      </div>
      <div class="body">
        <span class="info hide_error"></span>
        <form action="/add_friend" method="post" class="add_form">
          <div class="input">
            <label for="phone">Phone Number</label>
            <input type="text" name="phone" id="friend_phone" placeholder="6248957865" />
          </div>
          <div class="textarea">
            <label for="description">Message</label>
            <textarea name="message" id="invite_message"></textarea>
          </div>
        </form>
      </div>
      <div class="footer">
        <button id="invite_friend_button" class="btn btn-primary">Invite Friend</button>
      </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script type="module" src="../js/page_functionality.js"></script>
    <script type="module" src="../js/home.js"></script>
  </body>
</html>
